<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="action_view_url_purge" model="ir.actions.act_window">
        <field name="type">ir.actions.act_window</field>
        <field name="name">Liste des URL</field>
        <field name="res_model">shopinvader.url.purge</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('backend_id', '=', active_id)]</field>
    </record>


    <record model="ir.ui.view" id="shopinvader_url_purge_tree_view">
        <field name="name">shopinvader.url.purge.tree.view</field>
        <field name="model">shopinvader.url.purge</field>
        <field name="arch" type="xml">
            <tree >
                <field name="url" />
                <field name="to_purge" />
                <field name="purge_type_id" />
                <field name="backend_id" />
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="shopinvader_url_purge_act_window">
        <field name="res_model">shopinvader.url.purge</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
    </record>

    <record model="ir.actions.server" id="action_purge">
        <field name="name">Purger</field>
        <field name="model_id" ref="model_shopinvader_url_purge" />
        <field name="binding_type">action</field>
        <!-- <field name="binding_model_id" ref="model_shopinvader_url_purge" /> -->
        <field name="state">code</field>
        <field name="code">
            records._purge_url()
        </field>
            <field
            name="groups_id"
            eval="[(4, ref('base.group_user'))]"
        />
    </record>

    <menuitem
        id="shopinvader_url_purge_root_menu"
        parent="shopinvader.menu_shopinvader_root"
        name="Url Purge List"
        sequence="120"
        action="shopinvader_url_purge_act_window"
    />



</odoo>
